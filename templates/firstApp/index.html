<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
{% load staticfiles %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Anime!!</title>
    <link rel="stylesheet" href="{%static "css/style.css" %}">
    <link href="https://fonts.googleapis.com/css?family=Press+Start+2P" rel="stylesheet">

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/css?family=IBM+Plex+Mono" rel="stylesheet">
    <link rel="icon" href="{%static "images/favicon.png" %}" type="image/png">
    
</head>
<body>  
    <header class="headerr">
        <h1 class="headerr__heading">Anime!!</h1>
    </header>
    
    <!-- Sticky Header -->    
    <div class="notice header" id = "myHeader">
        <center><h4> Note: Some Information may be inaccurate due to naming inconsistencies in dataset. </h4></center>
    </div>
    <script>
        window.onscroll = function() {myFunction()};
        
        var header = document.getElementById("myHeader");
        var sticky = header.offsetTop;
        
        function myFunction() {
            if (window.pageYOffset >= sticky) {
            header.classList.add("sticky");
            } else {
            header.classList.remove("sticky");
            }
        }
    </script>

    <!--Trying Search Functionality -->
     <form name="myform" method="POST" action="{% url 'search' %}">  
        {% csrf_token %}
        <input type="text" name="search" placeholder="Search" />
    </form>  

    <!-- <a href="{% url 'admin:index' %}" class="add-link">Add New Anime</a> -->
    
    
    {% if anime %}
        {% for an in anime %}
            
            <div class="col-sm-3"> <!-- Bootstrap class to align elements into grid of 4 -->
                <center><object id="{{ an.animeId }}"class="myBtnObj" data="{{ an.imageUrl }}" type="image/png" style="width : 200px; height : 300px;  position : relative; margin-bottom : 50px;">
                    <center><img id="{{ an.animeId }}" class="myBtnPla" src="{%static "images/placeholder.png" %}" alt="{{ an.name }}" style="width : 200px; height : 300px; border : 1px solid black; position : relative; margin-bottom : 50px;"></center> <!-- If the image is unavailable the placeholder image will be used -->
                </object></center>
            </div>


            <div id="myModal" class="modal">
                <!-- Modal content -->
                <div class="modal-content">
                    <span class="close">&times;</span>
                        <center><object class="myBtn" data="{{ an.imageUrl }}" type="image/png" style="width : 200px; height : 300px;  position : relative; border-radius : 5px;">
                            <center><img class="myBtn" src="{%static "images/placeholder.png" %}" alt="{{ an.name }}" style="width : 200px; height : 300px; border : 1px solid black; position : relative; border-radius : 5px;"></center> <!-- If the image is unavailable the placeholder image will be used -->
                        </object></center>
                    <br/>
                    <div style="text-align : center;">Name: {{ an.name }}</div>
                    <div style="text-align : center;">Genre(s): {{ an.genre }}</div>
                    <div style="text-align : center;">Type: {{ an.animeType }}</div>
                    <div style="text-align : center;">Rating: {{ an.rating }}</div>
                    <div style="text-align : center;">Members: {{ an.members }}</div>
                </div>
            </div>


        {% endfor %}

        <!-- Classes below use bootstrap 3 to format the paginated pages and menus -->
        
        {% if anime.has_other_pages %}
            <ul class="pagination">
                {% if anime.has_previous %}
                    <li><a href="?page={{ anime.previous_page_number }}"> &laquo; </a></li>
                {% else %}
                    <li class="disabled"><span> &laquo; </span></li>
                {% endif %}
                {%for i in anime.paginator.page_range %}
                    {%if anime.number == i %}
                        <li class="active"><span>{{ i }} <span class="sr-only">(current)</span></span></li>
                    {% else %}
                        <li><a href="?page={{ i }}">{{ i }}</a></li>  
                    {% endif %}
                {% endfor %}
                {% if anime.has_next %}
                    <li><a href="?page={{ anime.next_page_number }}"> &raquo; </a></li>
                {% else %}
                    <li class="disabled"><span> &raquo; </span></li>
                {% endif %}
            </ul>
        {% endif %}


        


    {% else %}
        <p>No Anime Found</p>
    {% endif %}

      
   

              

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script><!-- jQuery library -->
<script src="{%static "js/modal.js" %}"></script>
</body>
</html>
